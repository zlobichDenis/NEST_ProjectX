generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["multiSchema"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
  schemas  = ["user"]
}

enum provider {
  GOOGLE

  @@schema("user")
}

model user {
  id                    String   @id @db.Uuid
  email                 String   @unique @db.VarChar(100)
  provider              provider
  current_refresh_token String?
  created_at            DateTime @default(now())

  profile profile?

  @@schema("user")
}

model profile {
  id          String    @id @db.Uuid
  family_name String    @db.VarChar(255)
  given_name  String?   @db.VarChar(255)
  description String?   @db.VarChar(1000)
  photo       String?
  photos      String[]
  created_at  DateTime  @default(now())
  deleted_at  DateTime?

  user    user?   @relation(fields: [user_id], references: [id])
  user_id String? @unique @db.Uuid

  @@schema("user")
}
